/***** Sample Program for MieruEMB System v1.0                        *****/
/**************************************************************************/
volatile char *e_vram = (char*)0x900000;
volatile int  *e_time = (int *)0x80010c;
volatile char *e_gp1  = (char*)0x8001f0;
volatile char *e_gp2  = (char*)0x8001f1;
volatile char *e_sw1  = (char*)0x8001fc;
volatile char *e_sw2  = (char*)0x8001fd;
volatile char *e_sw3  = (char*)0x8001fe;
volatile char *e_gin  = (char*)0x8001ff;

/**************************************************************************/
static const unsigned char fonts[2][16][8] = {
    {{0,0,0,0,0,0,0,0},//A
     {0,0,0,0,0,0,0,0},
     {0,0,0,0,0,0,0,0},
     {0,0,0,0,1,0,0,0},
     {0,0,0,0,1,0,0,0},
     {0,0,0,1,0,1,0,0},
     {0,0,0,1,0,1,0,0},
     {0,0,0,1,0,1,0,0},
     {0,0,0,1,0,1,0,0},
     {0,0,1,0,0,0,1,0},
     {0,0,1,1,1,1,1,0},
     {0,0,1,0,0,0,1,0},
     {0,0,1,0,0,0,1,0},
     {0,0,0,0,0,0,0,0},
     {0,0,0,0,0,0,0,0},
     {0,0,0,0,0,0,0,0}},
    
    {{0,0,0,0,0,0,0,0},//B
     {0,0,0,0,0,0,0,0},
     {0,0,0,0,0,0,0,0},
     {0,0,1,1,1,1,0,0},
     {0,0,1,0,0,0,1,0},
     {0,0,1,0,0,0,1,0},
     {0,0,1,0,0,0,1,0},
     {0,0,1,1,1,1,0,0},
     {0,0,1,0,0,0,1,0},
     {0,0,1,0,0,0,1,0},
     {0,0,1,0,0,0,1,0},
     {0,0,1,0,0,0,1,0},
     {0,0,1,1,1,1,0,0},
     {0,0,0,0,0,0,0,0},
     {0,0,0,0,0,0,0,0},
     {0,0,0,0,0,0,0,0}}
};

/**************************************************************************/
void mylib_putc(int x, int y, char c, int color){
    int i, j;
    
    for(i=0; i<16; i++){
        for(j=0; j<8; j++){
            if(fonts[(int)(c-'A')][i][j]) e_vram[(x+j)+(y+i)*128] = color;
        }
    }
}

/**************************************************************************/
int main(void){
    mylib_putc(0,  0, 'A', 7);
    mylib_putc(8,  0, 'B', 7);
    mylib_putc(16, 0, 'A', 2);
    
    while(1);
}
/**************************************************************************/
